{% extends "base.html" %}
{% load static %}
{% load my_tags %}
{% block content %}
<div class="wdth-cvr wrp pdng-2">
    <div class="wdth-cvr flx-spc-btwn">
        <div class="url flx-ctr">
            <h6><a href="{% url 'home' %}">
                    <h6>{{website_name}}</h6>
                </a>&nbsp;/&nbsp;...&nbsp;/&nbsp;<a href="{% url 'details:category' product_detail.category.id %}">
                    <h6>{{product_detail.category.title}}</h6>
                </a></h6>
        </div>
        <div class="flx-ctr">
            <div class="flx-ctr">
                {% if user.is_authenticated %}
                <button style="padding: 2px;" type="button" class="flx-ctr" id="btn-like-prdct">
                    <span style="--fgr-sz: 20px;" class="fgr">
                        <svg width="20" height="20" viewBox="0 0 20 20"
                            fill="{% if is_liked == True %}#E85749{% else %}none{% endif %}"
                            xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_27_910)">
                                <path
                                    d="M10 16.875C10 16.875 2.1875 12.5 2.1875 7.18751C2.1875 6.24836 2.51289 5.33821 3.1083 4.61193C3.70371 3.88564 4.53236 3.38808 5.45328 3.2039C6.37419 3.01971 7.33047 3.16029 8.15943 3.6017C8.98838 4.04311 9.63879 4.7581 10 5.62501C10.3612 4.7581 11.0116 4.04311 11.8406 3.6017C12.6695 3.16029 13.6258 3.01971 14.5467 3.2039C15.4676 3.38808 16.2963 3.88564 16.8917 4.61193C17.4871 5.33821 17.8125 6.24836 17.8125 7.18751C17.8125 12.5 10 16.875 10 16.875Z"
                                    stroke="#E85749" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </g>
                            <defs>
                                <clipPath id="clip0_27_910">
                                    <rect width="20" height="20" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </span>
                </button>
                {% else %}
                <a href="{% url 'log-in' %}" style="padding: 2px;" class="flx-ctr">
                    <span style="--fgr-sz: 20px;" class="fgr">
                        <svg width="20" height="20" viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_27_910)">
                                <path
                                    d="M10 16.875C10 16.875 2.1875 12.5 2.1875 7.18751C2.1875 6.24836 2.51289 5.33821 3.1083 4.61193C3.70371 3.88564 4.53236 3.38808 5.45328 3.2039C6.37419 3.01971 7.33047 3.16029 8.15943 3.6017C8.98838 4.04311 9.63879 4.7581 10 5.62501C10.3612 4.7581 11.0116 4.04311 11.8406 3.6017C12.6695 3.16029 13.6258 3.01971 14.5467 3.2039C15.4676 3.38808 16.2963 3.88564 16.8917 4.61193C17.4871 5.33821 17.8125 6.24836 17.8125 7.18751C17.8125 12.5 10 16.875 10 16.875Z"
                                    stroke="#E85749" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </g>
                            <defs>
                                <clipPath id="clip0_27_910">
                                    <rect width="20" height="20" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </span>
                </a>
                {% endif %}
            </div>
        </div>
    </div>
</div>
<div class="wdth-cvr wrp flx-ctr">
    <div style="gap: 16px;" class="wdth-cvr ptn-rlv flx-ctr flx-tp">
        <div class="flx-cvr flx-ctr">
            <div class="wdth-cvr flx-drt-cln">
                <div style="gap: 16px;" class="wdth-cvr flx-ctr flx-tp">
                    <div class="flx-ctr">
                        <div style="gap: 8px;" class="prdct-pstr flx-ctr flx-tp">
                            <div class="flx-ctr">
                                <div style="gap: 6px; padding-top: 4px;" class="flx-drt-cln">
                                    {% for poster in product_detail.product_poster.all|order_by:"created" %}
                                    <button type="button"
                                        class="btn-prdct-pstr-chng flx-ctr{% if poster == product_detail.product_poster.first %} actv {% endif %}bdr-rds-3 ptn-rlv">
                                        <span style="--fgr-sz: 38px;" class="fgr ovrfl-hdn bdr-rds-3">
                                            <img src="{{poster.photo.url}}">
                                        </span>
                                    </button>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="flx-ctr">
                                <div class="flx-ctr">
                                    <span style="--fgr-sz: 326px;" class="fgr ovrfl-hdn bdr-rds-3">
                                        <img src="{{product_detail.product_poster.first.photo.url}}" id="prdct-pstr">
                                    </span>
                                </div>
                            </div>
                            <script>
                                $(document).ready(function () {
                                    $(".btn-prdct-pstr-chng").click(function () {
                                        $(".btn-prdct-pstr-chng").removeClass("actv");
                                        $(this).addClass("actv");
                                        var poster = $("#prdct-pstr");
                                        var poster_url = $(this).find("img").attr("src");
                                        poster.attr("src", poster_url);
                                    });
                                });
                            </script>
                        </div>
                    </div>
                    <div class="flx-ctr flx-cvr">
                        <div class="wdth-cvr flx-ctr">
                            <div class="wdth-cvr flx-drt-cln">
                                <div class="prdct-tlt wdth-cvr flx-ctr">
                                    <div class="wdth-cvr flx-ctr flx-lft">
                                        <span>{{product_detail.title}}</span>
                                    </div>
                                </div>
                                <div class="prdct-inf wdth-cvr flx-drt-cln">
                                    {% if product_detail.review_product.all|count > 0 %}
                                    <div class="wdth-cvr flx-ctr">
                                        <div class="wdth-cvr flx-ctr flx-lft">
                                            <h5 style="display: contents;" class="wdth-cvr">
                                                <div class="flx-ctr">
                                                    <div class="flx-ctr">
                                                        <span style="--fgr-sz: 18px;" class="fgr">
                                                            {% if rating > 0 and 1 > rating %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <mask id="mask0_375_2" style="mask-type:luminance"
                                                                    maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                                    height="18">
                                                                    <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                                </mask>
                                                                <g mask="url(#mask0_375_2)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="var(--bg-clr-7)" />
                                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                                        d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                        fill="var(--bg-clr-4)" />
                                                                </g>
                                                            </svg>
                                                            {% else %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <g clip-path="url(#clip0_32_1313)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="{% if rating >= 1 %}var(--bg-clr-4){% elif 0 >= rating %}var(--bg-clr-7){% endif %}" />
                                                                </g>
                                                                <defs>
                                                                    <clipPath id="clip0_32_1313">
                                                                        <rect width="18" height="18" fill="white"
                                                                            transform="translate(0.5)" />
                                                                    </clipPath>
                                                                </defs>
                                                            </svg>
                                                            {% endif %}
                                                        </span>
                                                    </div>
                                                    <div class="flx-ctr">
                                                        <span style="--fgr-sz: 18px;" class="fgr">
                                                            {% if rating > 1 and 2 > rating %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <mask id="mask0_375_2" style="mask-type:luminance"
                                                                    maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                                    height="18">
                                                                    <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                                </mask>
                                                                <g mask="url(#mask0_375_2)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="var(--bg-clr-7)" />
                                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                                        d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                        fill="var(--bg-clr-4)" />
                                                                </g>
                                                            </svg>
                                                            {% else %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <g clip-path="url(#clip0_32_1313)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="{% if rating >= 2 %}var(--bg-clr-4){% elif 1 >= rating %}var(--bg-clr-7){% endif %}" />
                                                                </g>
                                                                <defs>
                                                                    <clipPath id="clip0_32_1313">
                                                                        <rect width="18" height="18" fill="white"
                                                                            transform="translate(0.5)" />
                                                                    </clipPath>
                                                                </defs>
                                                            </svg>
                                                            {% endif %}
                                                        </span>
                                                    </div>
                                                    <div class="flx-ctr">
                                                        <span style="--fgr-sz: 18px;" class="fgr">
                                                            {% if rating > 2 and 3 > rating %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <mask id="mask0_375_2" style="mask-type:luminance"
                                                                    maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                                    height="18">
                                                                    <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                                </mask>
                                                                <g mask="url(#mask0_375_2)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="var(--bg-clr-7)" />
                                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                                        d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                        fill="var(--bg-clr-4)" />
                                                                </g>
                                                            </svg>
                                                            {% else %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <g clip-path="url(#clip0_32_1313)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="{% if rating >= 3 %}var(--bg-clr-4){% elif 2 >= rating %}var(--bg-clr-7){% endif %}" />
                                                                </g>
                                                                <defs>
                                                                    <clipPath id="clip0_32_1313">
                                                                        <rect width="18" height="18" fill="white"
                                                                            transform="translate(0.5)" />
                                                                    </clipPath>
                                                                </defs>
                                                            </svg>
                                                            {% endif %}
                                                        </span>
                                                    </div>
                                                    <div class="flx-ctr">
                                                        <span style="--fgr-sz: 18px;" class="fgr">
                                                            {% if rating > 3 and 4 > rating %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <mask id="mask0_375_2" style="mask-type:luminance"
                                                                    maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                                    height="18">
                                                                    <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                                </mask>
                                                                <g mask="url(#mask0_375_2)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="var(--bg-clr-7)" />
                                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                                        d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                        fill="var(--bg-clr-4)" />
                                                                </g>
                                                            </svg>
                                                            {% else %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <g clip-path="url(#clip0_32_1313)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="{% if rating >= 4 %}var(--bg-clr-4){% elif 3 >= rating %}var(--bg-clr-7){% endif %}" />
                                                                </g>
                                                                <defs>
                                                                    <clipPath id="clip0_32_1313">
                                                                        <rect width="18" height="18" fill="white"
                                                                            transform="translate(0.5)" />
                                                                    </clipPath>
                                                                </defs>
                                                            </svg>
                                                            {% endif %}
                                                        </span>
                                                    </div>
                                                    <div class="flx-ctr">
                                                        <span style="--fgr-sz: 18px;" class="fgr">
                                                            {% if rating > 4 and 5 > rating %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <mask id="mask0_375_2" style="mask-type:luminance"
                                                                    maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                                    height="18">
                                                                    <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                                </mask>
                                                                <g mask="url(#mask0_375_2)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="var(--bg-clr-7)" />
                                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                                        d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                        fill="var(--bg-clr-4)" />
                                                                </g>
                                                            </svg>
                                                            {% else %}
                                                            <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <g clip-path="url(#clip0_32_1313)">
                                                                    <path
                                                                        d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                        fill="{% if rating == 5 %}var(--bg-clr-4){% elif 4 >= rating %}var(--bg-clr-7){% endif %}" />
                                                                </g>
                                                                <defs>
                                                                    <clipPath id="clip0_32_1313">
                                                                        <rect width="18" height="18" fill="white"
                                                                            transform="translate(0.5)" />
                                                                    </clipPath>
                                                                </defs>
                                                            </svg>
                                                            {% endif %}
                                                        </span>
                                                    </div>
                                                </div>&nbsp;{{rating}}&nbsp;<a href="#section"
                                                    class="btn-prdct-rvs rvw-lnk hvr-undrln">
                                                    {% with count=product_detail.review_product.all|count %}
                                                    <h5>{{count}} review{% if count > 1 %}s{% endif %}</h5>
                                                    {% endwith %}
                                                </a>{% if sold > 0 %}&nbsp;{{sold}} Sold{% endif %}
                                            </h5>
                                        </div>
                                    </div>
                                    {% endif %}
                                    <div class="wdth-cvr flx-ctr">
                                        <div class="wdth-cvr flx-ctr flx-lft">
                                            <div style="gap: 6px;" class="lnks flx-ctr">
                                                <a href="#section" class="btn-prdct-dscrpt hvr-undrln">
                                                    <h5>Description</h5>
                                                </a>
                                                <a href="#section" class="btn-prdct-chrctcts hvr-undrln">
                                                    <h5>Charachteristics</h5>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    {% if product_detail.product_attribute.all|count > 0 %}
                                    <div class="wdth-cvr flx-ctr">
                                        <div style="gap: 4px; margin: 2px 0;" class="wdth-cvr flx-drt-cln">
                                            {% for attribute in product_detail.product_attribute.all|slice:":8" %}
                                            <div style="gap: 4px;" class="wdth-cvr flx-spc-btwn">
                                                <div class="attr flx-ctr">
                                                    <h6 style="--txt-ln-nbr: 1; max-width: 100px;" class="txt-ln">
                                                        {{attribute.get_variable_display}}</h6>
                                                </div>
                                                <div class="flx-cvr flx-ctr flx-btm">
                                                    <div class="ln ptn-rlv wdth-cvr flx-ctr"></div>
                                                </div>
                                                <div class="val flx-ctr">
                                                    <h6 style="--txt-ln-nbr: 1; max-width: 100px;" class="txt-ln">
                                                        {{attribute.value}}</h6>
                                                </div>
                                            </div>
                                            {% endfor %}
                                        </div>
                                    </div>
                                    {% endif %}
                                    {% if product_detail.product_attribute.all|count > 8 %}
                                    <div class="wdth-cvr flx-ctr">
                                        <div class="wdth-cvr flx-ctr flx-lft">
                                            <div class="flx-ctr">
                                                <a href="#section" class="btn-prdct-chrctcts flx-ctr hvr-undrln">
                                                    <h6>View all</h6>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <section class="prdct-sctns wdth-cvr flx-ctr" id="section">
                    <div class="flx-ctr">
                        {% if product_detail.review_product.all|count > 0 %}
                        <div class="flx-cvr">
                            <a href="#section" class="btn-prdct-rvs sct-prdct-btn actv ptn-rlv bdr-bx flx-ctr"
                                id="btn-prdct-rvs">
                                <h4>Reviews</h4>
                            </a>
                        </div>
                        {% endif %}
                        <div class="flx-cvr">
                            <a href="#section"
                                class="btn-prdct-dscrpt sct-prdct-btn{% if product_detail.review_product.all|count == 0 %} actv{% endif %} ptn-rlv bdr-bx flx-ctr"
                                id="btn-prdct-dscrpt">
                                <h4>Description</h4>
                            </a>
                        </div>
                        <div class="flx-cvr">
                            <a href="#section" class="btn-prdct-chrctcts sct-prdct-btn ptn-rlv bdr-bx flx-ctr"
                                id="btn-prdct-chrctcts">
                                <h4>Characteristics</h4>
                            </a>
                        </div>
                    </div>
                </section>
                <div class="prdct-rtng wdth-cvr flx-ctr">
                    <div class="wdth-cvr flx-drt-cln">
                        <div class="estm pdng-1 wdth-cvr flx-ctr">
                            <div style="margin-top: -8px;"
                                class="wdth-cvr flx-btm {% if product_detail.review_product.all|count > 0 %}nn{% endif %}"
                                id="prdct-dscrpt">
                                <span>{{product_detail.description}}</span>
                            </div>
                            <div class="prdct-inf wdth-cvr flx-ctr nn" id="prdct-chrctcts">
                                <section style="gap: 4px; margin-top: -8px;" class="wdth-cvr flx-drt-cln"
                                    id="charachteristics">
                                    {% for attribute in product_detail.product_attribute.all %}
                                    <div style="gap: 12px;" class="prdct-attrbt wdth-cvr flx-spc-btwn">
                                        <div class="attr flx-ctr flx-btm">
                                            <h6>{{attribute.get_variable_display}}</h6>
                                        </div>
                                        <div class="flx-cvr flx-ctr flx-btm">
                                            <div style="background-color: transparent; margin: 0;"
                                                class="ln ptn-rlv wdth-cvr flx-ctr"></div>
                                        </div>
                                        <div class="val flx-ctr flx-btm">
                                            <h6>{{attribute.value}}</h6>
                                        </div>
                                    </div>
                                    {% endfor %}
                                    <div style="margin-top: 4px;" class="wdth-cvr flx-ctr">
                                        <div class="wdth-cvr flx-ctr">
                                            <a href="#charachteristics"
                                                class="btn-shw-all-rvs bdr-bx bdr-rds-cvr wdth-cvr flx-ctr nn"
                                                id="btn-shw-all-prdct-attrbt">
                                                <span>Show all</span>
                                            </a>
                                        </div>
                                    </div>
                                </section>
                            </div>
                            <script>
                                $(document).ready(function () {
                                    var description = $("#prdct-dscrpt");
                                    var charachteristics = $("#prdct-chrctcts");
                                    var rating = $("#prdct-rtng");
                                    var reviews = $("#prdct-rvs");
                                    var buttonShowAllAttributes = $("#btn-shw-all-prdct-attrbt");
                                    var attribute = $(".prdct-attrbt");
                                    buttonShowAllAttributes.click(function () {
                                        if ($(this).hasClass("btn-actv")) {
                                            for (i = 0; i < attribute.length; i++) {
                                                if (i > 8) {
                                                    $(attribute[i]).addClass("nn");
                                                }
                                            }
                                            buttonShowAllAttributes.find("span").text("Show all");
                                            buttonShowAllAttributes.removeClass("btn-actv");
                                        }
                                        else {
                                            buttonShowAllAttributes.find("span").text("Show less");
                                            attribute.removeClass("nn");
                                            buttonShowAllAttributes.addClass("btn-actv");
                                        }
                                    });
                                    $(".btn-prdct-rvs").click(function () {
                                        $(".sct-prdct-btn").removeClass("actv");
                                        $("#btn-prdct-rvs").addClass("actv");
                                        reviews.removeClass("nn");
                                        rating.removeClass("nn");
                                        charachteristics.addClass("nn");
                                        description.addClass("nn");
                                    });
                                    $(".btn-prdct-dscrpt").click(function () {
                                        $(".sct-prdct-btn").removeClass("actv");
                                        $("#btn-prdct-dscrpt").addClass("actv");
                                        reviews.addClass("nn");
                                        rating.addClass("nn");
                                        charachteristics.addClass("nn");
                                        description.removeClass("nn");
                                    });

                                    $(".btn-prdct-chrctcts").click(function () {
                                        $(".sct-prdct-btn").removeClass("actv");
                                        $("#btn-prdct-chrctcts").addClass("actv");
                                        for (i = 0; i < attribute.length; i++) {
                                            if (i > 8) {
                                                $(attribute[i]).addClass("nn");
                                            }
                                        }
                                        if (attribute.length > 8) {
                                            buttonShowAllAttributes.removeClass("nn");
                                        }
                                        reviews.addClass("nn");
                                        rating.addClass("nn");
                                        charachteristics.removeClass("nn");
                                        description.addClass("nn");
                                    });
                                });
                            </script>
                            {% if product_detail.review_product.all|count > 0 %}
                            <div style="gap: 16px;" class="wdth-cvr flx-ctr flx-tp" id="prdct-rtng">
                                <div style="width: calc(135px - 22px);" class="flx-ctr flx-lft">
                                    <div class="flx-drt-cln">
                                        <div style="height: 56px; margin-bottom: 6px;" class="flx-ctr">
                                            <h1>{{rating}}</h1>
                                        </div>
                                        <div class="flx-ctr">
                                            <div class="flx-ctr">
                                                <span style="--fgr-sz: 18px;" class="fgr">
                                                    {% if rating > 0 and 1 > rating %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <mask id="mask0_375_2" style="mask-type:luminance"
                                                            maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                            height="18">
                                                            <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                        </mask>
                                                        <g mask="url(#mask0_375_2)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="var(--bg-clr-7)" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                fill="var(--bg-clr-4)" />
                                                        </g>
                                                    </svg>
                                                    {% else %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <g clip-path="url(#clip0_32_1313)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="{% if rating >= 1 %}var(--bg-clr-4){% elif 0 >= rating %}var(--bg-clr-7){% endif %}" />
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_32_1313">
                                                                <rect width="18" height="18" fill="white"
                                                                    transform="translate(0.5)" />
                                                            </clipPath>
                                                        </defs>
                                                    </svg>
                                                    {% endif %}
                                                </span>
                                            </div>
                                            <div class="flx-ctr">
                                                <span style="--fgr-sz: 18px;" class="fgr">
                                                    {% if rating > 1 and 2 > rating %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <mask id="mask0_375_2" style="mask-type:luminance"
                                                            maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                            height="18">
                                                            <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                        </mask>
                                                        <g mask="url(#mask0_375_2)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="var(--bg-clr-7)" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                fill="var(--bg-clr-4)" />
                                                        </g>
                                                    </svg>
                                                    {% else %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <g clip-path="url(#clip0_32_1313)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="{% if rating >= 2 %}var(--bg-clr-4){% elif 1 >= rating %}var(--bg-clr-7){% endif %}" />
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_32_1313">
                                                                <rect width="18" height="18" fill="white"
                                                                    transform="translate(0.5)" />
                                                            </clipPath>
                                                        </defs>
                                                    </svg>
                                                    {% endif %}
                                                </span>
                                            </div>
                                            <div class="flx-ctr">
                                                <span style="--fgr-sz: 18px;" class="fgr">
                                                    {% if rating > 2 and 3 > rating %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <mask id="mask0_375_2" style="mask-type:luminance"
                                                            maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                            height="18">
                                                            <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                        </mask>
                                                        <g mask="url(#mask0_375_2)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="var(--bg-clr-7)" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                fill="var(--bg-clr-4)" />
                                                        </g>
                                                    </svg>
                                                    {% else %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <g clip-path="url(#clip0_32_1313)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="{% if rating >= 3 %}var(--bg-clr-4){% elif 2 >= rating %}var(--bg-clr-7){% endif %}" />
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_32_1313">
                                                                <rect width="18" height="18" fill="white"
                                                                    transform="translate(0.5)" />
                                                            </clipPath>
                                                        </defs>
                                                    </svg>
                                                    {% endif %}
                                                </span>
                                            </div>
                                            <div class="flx-ctr">
                                                <span style="--fgr-sz: 18px;" class="fgr">
                                                    {% if rating > 3 and 4 > rating %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <mask id="mask0_375_2" style="mask-type:luminance"
                                                            maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                            height="18">
                                                            <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                        </mask>
                                                        <g mask="url(#mask0_375_2)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="var(--bg-clr-7)" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                fill="var(--bg-clr-4)" />
                                                        </g>
                                                    </svg>
                                                    {% else %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <g clip-path="url(#clip0_32_1313)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="{% if rating >= 4 %}var(--bg-clr-4){% elif 3 >= rating %}var(--bg-clr-7){% endif %}" />
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_32_1313">
                                                                <rect width="18" height="18" fill="white"
                                                                    transform="translate(0.5)" />
                                                            </clipPath>
                                                        </defs>
                                                    </svg>
                                                    {% endif %}
                                                </span>
                                            </div>
                                            <div class="flx-ctr">
                                                <span style="--fgr-sz: 18px;" class="fgr">
                                                    {% if rating > 4 and 5 > rating %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <mask id="mask0_375_2" style="mask-type:luminance"
                                                            maskUnits="userSpaceOnUse" x="0" y="0" width="19"
                                                            height="18">
                                                            <path d="M18.5 0H0.5V18H18.5V0Z" fill="white" />
                                                        </mask>
                                                        <g mask="url(#mask0_375_2)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="var(--bg-clr-7)" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525V1.5Z"
                                                                fill="var(--bg-clr-4)" />
                                                        </g>
                                                    </svg>
                                                    {% else %}
                                                    <svg width="19" height="18" viewBox="0 0 19 18" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <g clip-path="url(#clip0_32_1313)">
                                                            <path
                                                                d="M9.5 12.9525L14.135 15.75L12.905 10.4775L17 6.93L11.6075 6.4725L9.5 1.5L7.3925 6.4725L2 6.93L6.095 10.4775L4.865 15.75L9.5 12.9525Z"
                                                                fill="{% if rating == 5 %}var(--bg-clr-4){% elif 4 >= rating %}var(--bg-clr-7){% endif %}" />
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_32_1313">
                                                                <rect width="18" height="18" fill="white"
                                                                    transform="translate(0.5)" />
                                                            </clipPath>
                                                        </defs>
                                                    </svg>
                                                    {% endif %}
                                                </span>
                                            </div>
                                        </div>
                                        <div class="rvs-cnt flx-ctr">
                                            {% with count=reviews.all|count %}
                                            <h6>{{count}} review{% if count > 1 %}s{% endif %}</h6>
                                            {% endwith %}
                                        </div>
                                    </div>
                                </div>
                                <div class="flx-cvr flx-ctr">
                                    <div style="gap: 16px;" class="wdth-cvr flx-ctr">
                                        <div class="flx-ctr">
                                            <div class="rtng-gp flx-ctr flx-drt-cln">
                                                <div class="rtn-txt flx-ctr">
                                                    <h6>5</h6>
                                                </div>
                                                <div class="rtn-txt flx-ctr">
                                                    <h6>4</h6>
                                                </div>
                                                <div class="rtn-txt flx-ctr">
                                                    <h6>3</h6>
                                                </div>
                                                <div class="rtn-txt flx-ctr">
                                                    <h6>2</h6>
                                                </div>
                                                <div class="rtn-txt flx-ctr">
                                                    <h6>1</h6>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flx-ctr flx-cvr">
                                            <div class="rtng-gp wdth-cvr flx-drt-cln">
                                                <div class="wdth-cvr flx-ctr">
                                                    <div class="ln wdth-cvr flx-ctr flx-lft bdr-rds-cvr">
                                                        <span style="width: {{rating_5}};"
                                                            class="ln-in flx-ctr hgt-cvr bdr-rds-cvr"></span>
                                                    </div>
                                                </div>
                                                <div class="wdth-cvr flx-ctr">
                                                    <div class="ln wdth-cvr flx-ctr flx-lft bdr-rds-cvr">
                                                        <span style="width: {{rating_4}};"
                                                            class="ln-in flx-ctr hgt-cvr bdr-rds-cvr"></span>
                                                    </div>
                                                </div>
                                                <div class="wdth-cvr flx-ctr">
                                                    <div class="ln wdth-cvr flx-ctr flx-lft bdr-rds-cvr">
                                                        <span style="width: {{rating_3}};"
                                                            class="ln-in flx-ctr hgt-cvr bdr-rds-cvr"></span>
                                                    </div>
                                                </div>
                                                <div class="wdth-cvr flx-ctr">
                                                    <div class="ln wdth-cvr flx-ctr flx-lft bdr-rds-cvr">
                                                        <span style="width: {{rating_2}};"
                                                            class="ln-in flx-ctr hgt-cvr bdr-rds-cvr"></span>
                                                    </div>
                                                </div>
                                                <div class="wdth-cvr flx-ctr">
                                                    <div class="ln wdth-cvr flx-ctr flx-lft bdr-rds-cvr">
                                                        <span style="width: {{rating_1}};"
                                                            class="ln-in flx-ctr hgt-cvr bdr-rds-cvr"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% if product_detail.review_product.all|count > 0 %}
                <div class="prdct-rvs wdth-cvr flx-ctr" id="prdct-rvs">
                    <div class="wdth-cvr flx-ctr">
                        <ul class="wdth-cvr flx-drt-cln">
                            {% for review in product_detail.review_product.all|slice:":4" %}
                            <li class="wdth-cvr flx-ctr">
                                {% include "review-1.html" %}
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                {% endif %}
                {% if product_detail.review_product.all|count > 4 %}
                <div class="wdth-cvr flx-ctr">
                    <div class="wdth-cvr flx-ctr">
                        <a href="{% url 'details:product-reviews' product_detail.id %}"
                            class="btn-shw-all-rvs bdr-bx bdr-rds-cvr wdth-cvr flx-ctr">
                            <span>See all reviews</span>
                        </a>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
        <div style="width: 328px; top: calc(80px + 18px); margin-bottom: 18px;" class="ptn-stk right-cvr flx-ctr">
            <div style="gap: 12px;" class="wdth-cvr flx-drt-cln">
                <div class="bx-by bx-frm bdr-rds-1 bdr-bx wdth-cvr flx-ctr">
                    <div class="wdth-cvr flx-drt-cln">
                        <div class="prc wdth-cvr flx-ctr flx-lft">
                            <h3>{{product_detail.price}} USD</h3>
                        </div>
                        <div class="act-prc wdth-cvr flx-ctr flx-lft">
                            <h6>{{product_detail.act_price}} USD</h6>
                        </div>
                        <div style="gap: 6px;" class="btns wdth-cvr flx-spc-btwn">
                            <div class="flx-cvr flx-ctr">
                                <div class="wdth-cvr flx-ctr">
                                    {% if user.is_authenticated %}
                                    <button type="button"
                                        class="wdth-cvr flx-ctr bdr-bx bdr-rds-3 {% if cart_product %}nn{% endif %}"
                                        id="btn-add-to-crt">
                                        <h6>Add to Cart</h6>
                                    </button>
                                    <a href="{% url 'cart' %}"
                                        class="wdth-cvr flx-ctr bdr-bx bdr-rds-3 {% if not cart_product %}nn{% endif %}"
                                        id="btn-go-to-crt">
                                        <h6>Cart</h6>
                                    </a>
                                    <script>
                                        document.addEventListener('DOMContentLoaded', function () {
                                            var buttonAdd = document.getElementById("btn-add-to-crt");
                                            var quantitySelection = document.getElementById("slct-crt-qnt");
                                            var goCart = document.getElementById("btn-go-to-crt");
                                            var buttonIncrease = document.getElementById("btn-incr-crt-qnt");
                                            var buttonDecrease = document.getElementById("btn-dcrs-crt-qnt");
                                            var cart_id = "{% if cart_product %}{{cart_product.id}}{% endif %}";
                                            var quantityText = document.getElementById("crt-qnt").querySelector("span")

                                            if (buttonIncrease) {
                                                buttonIncrease.addEventListener('click', function (e) {
                                                    e.preventDefault();
                                                    var data = {
                                                        sender_id: "{{user.id}}",
                                                        cart_id: cart_id,
                                                        is_plus: true,
                                                    };
                                                    fetch("{% url 'forms:change-cart-quantity' %}", {
                                                        method: 'POST',
                                                        headers: {
                                                            'Content-Type': 'application/json',
                                                            'X-CSRFToken': '{{csrf_token}}',
                                                        },
                                                        body: JSON.stringify(data)
                                                    })
                                                        .then(response => response.json())
                                                        .then(data => {
                                                            quantityText.textContent = data.quantity;
                                                            if (data.is_max) {
                                                                buttonIncrease.removeAttribute("id");
                                                                buttonIncrease.setAttribute("id", "btn-incr-crt-qnt-nn");
                                                            }
                                                            buttonDecreaseNone = document.getElementById("btn-dcrs-crt-qnt-nn");
                                                            if (data.is_max === false && buttonDecreaseNone) {
                                                                buttonDecreaseNone.removeAttribute("id");
                                                                buttonDecreaseNone.setAttribute("id", "btn-dcrs-crt-qnt");
                                                            }
                                                        })
                                                        .catch(error => {
                                                            console.error("Error:", error);
                                                        });
                                                });
                                            }

                                            if (buttonDecrease) {
                                                buttonDecrease.addEventListener('click', function (e) {
                                                    e.preventDefault();
                                                    var data = {
                                                        sender_id: "{{user.id}}",
                                                        cart_id: cart_id,
                                                        is_plus: false,
                                                    };
                                                    fetch("{% url 'forms:change-cart-quantity' %}", {
                                                        method: 'POST',
                                                        headers: {
                                                            'Content-Type': 'application/json',
                                                            'X-CSRFToken': '{{csrf_token}}',
                                                        },
                                                        body: JSON.stringify(data)
                                                    })
                                                        .then(response => response.json())
                                                        .then(data => {
                                                            quantityText.textContent = data.quantity;
                                                            if (data.is_min) {
                                                                buttonDecrease.removeAttribute("id");
                                                                buttonDecrease.setAttribute("id", "btn-dcrs-crt-qnt-nn");
                                                            }
                                                            buttonIncreaseNone = document.getElementById("btn-incrs-crt-qnt-nn");
                                                            if (data.is_max === false && buttonIncreaseNone) {
                                                                buttonIncreaseNone.removeAttribute("id");
                                                                buttonIncreaseNone.setAttribute("id", "btn-incr-crt-qnt");
                                                            }
                                                            if (data.is_deleted) {
                                                                buttonAdd.classList.remove("nn");
                                                                quantitySelection.classList.add("nn");
                                                                goCart.classList.add("nn");
                                                                cart_id = ""
                                                            }
                                                        })
                                                        .catch(error => {
                                                            console.error("Error:", error);
                                                        });
                                                });
                                            }

                                            if (buttonAdd) {
                                                buttonAdd.addEventListener('click', function (e) {
                                                    e.preventDefault();
                                                    var data = {
                                                        sender_id: "{{user.id}}",
                                                        product_id: "{{product_detail.id}}",
                                                        quantity: 1,
                                                    };
                                                    fetch("{% url 'forms:add-to-cart' %}", {
                                                        method: 'POST',
                                                        headers: {
                                                            'Content-Type': 'application/json',
                                                            'X-CSRFToken': '{{csrf_token}}',
                                                        },
                                                        body: JSON.stringify(data)
                                                    })
                                                        .then(response => response.json())
                                                        .then(data => {
                                                            buttonAdd.classList.add("nn");
                                                            quantitySelection.classList.remove("nn");
                                                            goCart.classList.remove("nn");
                                                            cart_id = data.cart_id
                                                        })
                                                        .catch(error => {
                                                            console.error("Error:", error);
                                                        });
                                                });
                                            }
                                        });
                                    </script>
                                    {% else %}
                                    <a href="{% url 'log-in' %}" class="wdth-cvr flx-ctr bdr-bx bdr-rds-3">
                                        <h6>Add to Cart</h6>
                                    </a>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="flx-cvr hgt-cvr {% if not cart_product %}nn{% endif %}" id="slct-crt-qnt">
                                <div class="wdth-cvr hgt-cvr flx-ctr">
                                    <div class="cnt cvr flx-ctr bdr-rds-3 ovrfl-hdn flx-spc-btwn">
                                        <div class="flx-ctr">
                                            <button type="button" class="flx-ctr" id="btn-dcrs-crt-qnt">
                                                <span style="--fgr-sz: 16px;" class="fgr">
                                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <g clip-path="url(#clip0_104_2980)">
                                                            <rect x="1" y="7" width="14" height="2" rx="1" fill="white">
                                                            </rect>
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_104_2980">
                                                                <rect width="16" height="16" fill="white"></rect>
                                                            </clipPath>
                                                        </defs>
                                                    </svg>
                                                </span>
                                            </button>
                                        </div>
                                        <div style="height: calc(46.5px - 2px * 2);" class="flx-cvr txt hgt-cvr flx-ctr"
                                            id="crt-qnt">
                                            <span>
                                                {% if cart_product %}{{cart_product.quantity}}{% else %}1{% endif %}
                                            </span>
                                        </div>
                                        <div class="flx-ctr">
                                            <button type="button" class="flx-ctr" id="btn-incr-crt-qnt">
                                                <span style="--fgr-sz: 16px;" class="fgr">
                                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <g clip-path="url(#clip0_104_2980)">
                                                            <rect x="1" y="7" width="14" height="2" rx="1" fill="white">
                                                            </rect>
                                                            <rect x="7" y="15" width="14" height="2" rx="1"
                                                                transform="rotate(-90 7 15)" fill="white"></rect>
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_104_2980">
                                                                <rect width="16" height="16" fill="white"></rect>
                                                            </clipPath>
                                                        </defs>
                                                    </svg>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flx-cvr flx-ctr nn">
                                <div class="wdth-cvr flx-ctr">
                                    <button type="button" class="wdth-cvr flx-ctr bdr-bx bdr-rds-3">
                                        <h6>Buy now</h6>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="wdth-cvr flx-ctr">
                            <hr class="wdth-cvr">
                        </div>
                        <div class="inf wdth-cvr flx-ctr">
                            <div class="wdth-cvr flx-ctr flx-lft">
                                <text>75-Day Buyer Protection</text>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="{% url 'details:store' product_detail.store.id %}"
                    class="bx-str bx-frm bdr-rds-1 bdr-bx wdth-cvr flx-drt-cln">
                    <div class="wdth-cvr flx-ctr">
                        <div style="gap: 5.5px;" class="wdth-cvr flx-ctr flx-lft">
                            <div class="flx-ctr">
                                <span style="--fgr-sz: 40px;" class="fgr ovrfl-hdn bdr-rds-3">
                                    <img src="{{product_detail.store.photo.url}}">
                                </span>
                            </div>
                            <div class="flx-ctr">
                                <div class="flx-drt-cln flx-tp">
                                    <div class="tlt flx-ctr">
                                        <h6>{{product_detail.store.title}}</h6>
                                    </div>
                                    {% with subscribers_count=product_detail.store.subscribers %}
                                    {% if store_rating > 0 or subscribers_count > 0 %}
                                    <div class="inf flx-ctr">
                                        <text>{{store_rating}}% seller's rating
                                            {% if subscribers_count > 0 %}
                                            &nbsp;<span style="font-size: 6px;">•</span>&nbsp;
                                            {{count}} subscriber{% if subscribers_count > 1 %}s{% endif %}
                                            {% endif %}
                                        </text>
                                    </div>
                                    {% endif %}
                                    {% endwith %}
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>
{% if recommended_products.all|count > 0 %}
<div class="wdth-cvr wrp pdng-1">
    <div class="wdth-cvr flx-ctr">
        <div class="lst-gp wdth-cvr flx-drt-cln">
            <div class="wdth-cvr flx-ctr flx-lft">
                <h2>Selected for you</h2>
            </div>
            <div style="gap: 32px;" class="rcm-prdct-lst wdth-cvr flx-spc-btwn">
                {% for product in recommended_products %}
                <div class="wdth-cvr flx-ctr">
                    {% include "product-4.html" %}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endif %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var buttonLike = document.getElementById("btn-like-prdct");

        if (buttonLike) {
            buttonLike.addEventListener('click', function (e) {
                e.preventDefault();
                var data = {
                    sender_id: "{{user.id}}",
                    product_id: "{{product_detail.id}}",
                };
                fetch("{% url 'forms:like-product' %}", {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': '{{csrf_token}}',
                    },
                    body: JSON.stringify(data)
                })
                    .then(response => response.json())
                    .then(data => {
                        var svg = buttonLike.querySelector("svg");
                        if (data.is_liked) {
                            svg.removeAttribute("fill");
                            svg.setAttribute("fill", "#E85749");
                        }
                        else if (data.is_removed) {
                            svg.removeAttribute("fill");
                            svg.setAttribute("fill", "none");
                        }
                    })
                    .catch(error => {
                        console.error("Error:", error);
                    });
            });
        }
    });
</script>
{% endblock %}