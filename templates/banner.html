{% load my_tags %}
<div class="bnr wdth-cvr ptn-rlv bdr-rds-2 ovrfl-hdn flx-ctr">
    <div style="z-index: 2;" class="hgt-cvr flx-ctr ptn-ablt tp-cvr lft-cvr">
        <button type="button" class="bdr-bx flx-ctr hgt-cvr" id="bnr-btn-lft">
            <div class="flx-ctr">
                <span style="--fgr-sz: 42px;" class="flx-ctr fgr">
                    <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_8_194)">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M21 42C32.598 42 42 32.598 42 21C42 9.40202 32.598 0 21 0C9.40202 0 0 9.40202 0 21C0 32.598 9.40202 42 21 42ZM17.919 20.3717C17.9168 20.3693 17.9158 20.3681 17.9158 20.3681L17.919 20.3717ZM17.9158 21.7755C17.9158 21.7755 17.9168 21.7743 17.919 21.7719L17.9158 21.7755ZM14.1394 21.0718C14.1394 22.0693 14.6619 22.7596 15.0593 23.1689C15.3995 23.5192 15.858 23.8718 16.2634 24.1835L16.3387 24.2414L23.28 29.5848C24.1553 30.2586 25.411 30.0953 26.0848 29.22C26.7586 28.3447 26.5953 27.089 25.72 26.4152L18.7787 21.0718L25.72 15.7284C26.5953 15.0546 26.7586 13.7989 26.0848 12.9236C25.411 12.0483 24.1553 11.885 23.28 12.5588L16.3387 17.9022L16.2634 17.9601C15.858 18.2718 15.3995 18.6244 15.0593 18.9747C14.6619 19.384 14.1394 20.0743 14.1394 21.0718Z"
                                fill="white" fill-opacity="0.5" />
                        </g>
                        <rect x="0.5" y="0.5" width="41" height="41" rx="20.5" stroke="#E85749" />
                        <defs>
                            <clipPath id="clip0_8_194">
                                <rect width="42" height="42" rx="21" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </span>
            </div>
        </button>
    </div>
    <div class="cvr ovrfl-hdn ptn-ablt tp-cvr lft-cvr flx-ctr flx-lft">
        <div style="transform: translateX(0%);" class="hgt-cvr flx-ctr flx-lft" id="bnr-lst">
            {% for banner in banners %}
            <div style="min-width: 100%;" class="bnr-pstr flx-ctr cvr"
                id="{% if banner == banners.first %}bnr-pstr-crnt{% endif %}">
                <div class="cvr flx-ctr">
                    <img src="{{banner.photo.url}}">
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="dots ptn-ablt flx-ctr">
        {% for banner in banners %}
        <div class="dot flx-ctr">
            <span style="--fgr-sz: 10px"
                class="{% if banner == banners.first %}actv{% endif %}  fgr bdr-rds-cvr flx-ctr"></span>
        </div>
        {% endfor %}
    </div>
    <div style="z-index: 2;" class="hgt-cvr flx-ctr ptn-ablt tp-cvr rght-cvr">
        <button type="button" class="bdr-bx flx-ctr hgt-cvr" id="bnr-btn-rght">
            <div class="flx-ctr">
                <span style="--fgr-sz: 42px;" class="flx-ctr fgr">
                    <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_8_28)">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M21 0C9.40202 0 0 9.40202 0 21C0 32.598 9.40202 42 21 42C32.598 42 42 32.598 42 21C42 9.40202 32.598 0 21 0ZM24.081 21.6283C24.0832 21.6307 24.0842 21.6319 24.0842 21.6319L24.081 21.6283ZM24.0842 20.2245C24.0842 20.2245 24.0832 20.2257 24.081 20.2281L24.0842 20.2245ZM27.8606 20.9282C27.8606 19.9307 27.3381 19.2404 26.9407 18.8311C26.6005 18.4808 26.142 18.1282 25.7366 17.8165L25.6613 17.7586L18.72 12.4152C17.8447 11.7414 16.589 11.9047 15.9152 12.78C15.2414 13.6553 15.4047 14.911 16.28 15.5848L23.2213 20.9282L16.28 26.2716C15.4047 26.9454 15.2414 28.2011 15.9152 29.0764C16.589 29.9517 17.8447 30.115 18.72 29.4412L25.6613 24.0978L25.7366 24.0399C26.142 23.7282 26.6005 23.3756 26.9407 23.0253C27.3381 22.616 27.8606 21.9257 27.8606 20.9282Z"
                                fill="white" fill-opacity="0.5" />
                        </g>
                        <rect x="0.5" y="0.5" width="41" height="41" rx="20.5" stroke="#E85749" />
                        <defs>
                            <clipPath id="clip0_8_28">
                                <rect width="42" height="42" rx="21" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>
                </span>
            </div>
        </button>
    </div>
</div>
<script>
    $(document).ready(function () {
        $("#bnr-btn-lft").click(function () {
            var banner = $("#bnr-lst");
            var count = $(".bnr-pstr").length;
            for (var i = 0; i < count; i++) {
                if ($(".bnr-pstr")[i].id === "bnr-pstr-crnt") {
                    var current = i;
                    break;
                }
            }
            var translateX = -(current * 100);
            if (translateX !== 0) {
                var newTranslateX = translateX + 100;
                $("#bnr-scrld-cnt").text(newTranslateX);
                banner.css("transform", "translateX(" + newTranslateX + "%)");
                $(".bnr-pstr").eq(current).removeAttr("id");
                $(".bnr-pstr").eq(current - 1).attr("id", "bnr-pstr-crnt");
                $(".dot > span").eq(current).removeClass("actv");
                $(".dot > span").eq(current - 1).addClass("actv");
            }
        });
        $("#bnr-btn-rght").click(function () {
            var banner = $("#bnr-lst");
            var count = $(".bnr-pstr").length;
            for (var i = 0; i < count; i++) {
                if ($(".bnr-pstr")[i].id === "bnr-pstr-crnt") {
                    var current = i;
                    break;
                }
            }
            var translateX = -(current * 100);
            var max = -((count - 1) * 100);
            if (translateX !== max) {
                var newTranslateX = translateX - 100;
                $("#bnr-scrld-cnt").text(newTranslateX);
                banner.css("transform", "translateX(" + newTranslateX + "%)");
                $(".bnr-pstr").eq(current).removeAttr("id");
                $(".bnr-pstr").eq(current + 1).attr("id", "bnr-pstr-crnt");
                $(".dot > span").eq(current).removeClass("actv");
                $(".dot > span").eq(current + 1).addClass("actv");
            }
        });
    });
</script>